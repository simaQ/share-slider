<style>
  #code-compare-2 pre {
    /*width: 110%;*/
    font-size: 0.35em;
  }
  #code-compare-2 pre code {
    padding: 10px;
  }
</style>
<section id="code-compare-2">
  <h3>数据筛选</h3>
  <table style="width: 100%;">
    <tr>
      <td style="width: 50%;">
        <h3 style="text-align: center;font-weight: 300;color: #f80;">2.x</h3>
        <pre>
          <code class="language-javascript" data-noescape data-trim>
            var data = [
              {x: 1, y: 1},
              {x: 2, y: 3}
            ];

            // 初始过滤处理
            data = data.filter(function(obj) {
              return obj.y < 2;
            });
            var chart = new G2.Chart();
            chart.source(data);
            chart.point().position('x*y');
            chart.render();

            // 更改过滤规则
            data = data.filter(function(obj) {
              return obj.y < 10;
            });

            chart.changeData(data);
          </code>
        </pre>
      </td>

      <td>
        <h3 style="text-align: center;font-weight: 300;color: #f80;">3.x</h3>
        <pre>
          <code class="language-javascript" data-noescape data-trim>
            var data = [
              {x: 1, y: 1},
              {x: 2, y: 3}
            ];
            var dataSet = new DataSet({
              state: {yValue: 2}
            });
            dataSet.view('v-data').source(data)
              .transform({
                type: 'fitler',
                fn: function(obj) {
                  return obj.y >= this.state.yValue;
                }
              });
            chart.source(dataSet.view('v-data'));
            chart.point().position('x*y');
            chart.render();

            // 更改过滤规则
            dataSet.setState('yValue', 10);
          </code>
        </pre>
      </td>
    </tr>
  </table>
</section>
